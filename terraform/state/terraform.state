{
  "version": 4,
  "terraform_version": "0.15.4",
  "serial": 388,
  "lineage": "6da5db0b-a41e-5676-a94c-ca815c3419ea",
  "outputs": {},
  "resources": [
    {
      "mode": "managed",
      "type": "digitalocean_certificate",
      "name": "cert",
      "provider": "provider[\"registry.terraform.io/digitalocean/digitalocean\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "certificate_chain": null,
            "domains": [
              "romanow-alex.ru"
            ],
            "id": "k8s-cluster-le-cert",
            "leaf_certificate": null,
            "name": "k8s-cluster-le-cert",
            "not_after": "2022-01-16T13:52:12Z",
            "private_key": null,
            "sha1_fingerprint": "9b00866a0f47536d4aec6b22ba41b8267dc9cda2",
            "state": "verified",
            "type": "lets_encrypt",
            "uuid": "81a19f53-4e3d-4ccf-92aa-fdeb44d7797f"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_kubernetes_cluster",
      "name": "cluster",
      "provider": "provider[\"registry.terraform.io/digitalocean/digitalocean\"]",
      "instances": [
        {
          "schema_version": 3,
          "attributes": {
            "auto_upgrade": false,
            "cluster_subnet": "10.244.0.0/16",
            "created_at": "2021-10-18 14:43:30 +0000 UTC",
            "endpoint": "https://d75f3dd5-3f3c-45e9-8ac5-9b70e3d9ed2c.k8s.ondigitalocean.com",
            "id": "d75f3dd5-3f3c-45e9-8ac5-9b70e3d9ed2c",
            "ipv4_address": "159.223.0.228",
            "kube_config": [
              {
                "client_certificate": "",
                "client_key": "",
                "cluster_ca_certificate": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURKekNDQWcrZ0F3SUJBZ0lDQm5Vd0RRWUpLb1pJaHZjTkFRRUxCUUF3TXpFVk1CTUdBMVVFQ2hNTVJHbG4KYVhSaGJFOWpaV0Z1TVJvd0dBWURWUVFERXhGck9ITmhZWE1nUTJ4MWMzUmxjaUJEUVRBZUZ3MHlNVEV3TVRneApORFF6TXpoYUZ3MDBNVEV3TVRneE5EUXpNemhhTURNeEZUQVRCZ05WQkFvVERFUnBaMmwwWVd4UFkyVmhiakVhCk1CZ0dBMVVFQXhNUmF6aHpZV0Z6SUVOc2RYTjBaWElnUTBFd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUIKRHdBd2dnRUtBb0lCQVFET1NWbEVKZ0M4blUrM2U4RzN0U1RpVStZTmxTYTlkUHdQWXpFeS9RVmo0bGpjWTVnUgpJaklnQlVrUFJuVW1IYW9jUXNNeGNFdnVrS0c1L2Fja09rVy9CQmRLWGVPVTIrWkhVbUp5UHYzWXMrYWJmajNLCjNvaXJZb3VoMXNSTXdBOSs5MnlvYnJSYmpIa2t3ems3Z25BSWZjRDczSkh2a0tmM1lIalFQb0JnaTd5alNoYXoKNTEzRGgxUjRkVHc5dGR0cCsrMnVxdEpQU3QxeGRqZzQvMEZFZ01vUi8rVytJSlV6Z01NVjdZUFhqc0hiL05nVwo5OUFTVnJ6aUZ3TW5md0ZDTFFpNmtqUVhyTkNWR3lSaHd3Nkx3SUtrVTJJNkdUVytrSGxoN3J3cnhFeFpuR09ZCmxTRDVEcytKSlBuanQ4eFo3aEo3akdpZkZ6QThWVnNETmpJZEFnTUJBQUdqUlRCRE1BNEdBMVVkRHdFQi93UUUKQXdJQmhqQVNCZ05WSFJNQkFmOEVDREFHQVFIL0FnRUFNQjBHQTFVZERnUVdCQlNMRTBxVVFRUDg2TEFTRjdJWgpDZUVBZ1ZDa0V6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFEZTI0UDNsUVZsMGNiZkhaQUpMRFhaZ1JXTzQ4CjUvNS9tYXh5ckh1V1M3Z0dXVStpdDVCUzBIVm5ENkJIQ0MxK0RxV2thQlRSTUdHMTkyV2diUXNvbis4b1lEZVkKM3ZrVUdtKzY5T0F4TDhPTGpvV2lBekIzdUNjTi9vZVRBQjlLaW05Yk9xRlFpVEk0NDlISVAvSS9SNlpSYjFkRgpLenR0UUhrVFd0SjVlZlF0TzJIdWl6TERET3BIK09wQzJ3bk4rWkIxblkzYXNmSis3SnNNZW9PUVdKdWg4ZGlpCmNlSkdFNkZCYTRRZlQ5ZWdPQ2ZqRG93UUdRZTNzc1hwZW5ycFZXakVHRzNhL3p3OFU0dWhucFBDS3l4aUlHQjUKeW1LY2ltSXZTaTJYcXNVdUp2NlRmbzNHUnR0YmdlSjA4aXlLS2M1S0VpNi94RHpvMktTMnNmV3JpUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
                "expires_at": "2021-10-25T14:51:22Z",
                "host": "https://d75f3dd5-3f3c-45e9-8ac5-9b70e3d9ed2c.k8s.ondigitalocean.com",
                "raw_config": "apiVersion: v1\nkind: Config\nclusters:\n- cluster:\n    certificate-authority-data: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSURKekNDQWcrZ0F3SUJBZ0lDQm5Vd0RRWUpLb1pJaHZjTkFRRUxCUUF3TXpFVk1CTUdBMVVFQ2hNTVJHbG4KYVhSaGJFOWpaV0Z1TVJvd0dBWURWUVFERXhGck9ITmhZWE1nUTJ4MWMzUmxjaUJEUVRBZUZ3MHlNVEV3TVRneApORFF6TXpoYUZ3MDBNVEV3TVRneE5EUXpNemhhTURNeEZUQVRCZ05WQkFvVERFUnBaMmwwWVd4UFkyVmhiakVhCk1CZ0dBMVVFQXhNUmF6aHpZV0Z6SUVOc2RYTjBaWElnUTBFd2dnRWlNQTBHQ1NxR1NJYjNEUUVCQVFVQUE0SUIKRHdBd2dnRUtBb0lCQVFET1NWbEVKZ0M4blUrM2U4RzN0U1RpVStZTmxTYTlkUHdQWXpFeS9RVmo0bGpjWTVnUgpJaklnQlVrUFJuVW1IYW9jUXNNeGNFdnVrS0c1L2Fja09rVy9CQmRLWGVPVTIrWkhVbUp5UHYzWXMrYWJmajNLCjNvaXJZb3VoMXNSTXdBOSs5MnlvYnJSYmpIa2t3ems3Z25BSWZjRDczSkh2a0tmM1lIalFQb0JnaTd5alNoYXoKNTEzRGgxUjRkVHc5dGR0cCsrMnVxdEpQU3QxeGRqZzQvMEZFZ01vUi8rVytJSlV6Z01NVjdZUFhqc0hiL05nVwo5OUFTVnJ6aUZ3TW5md0ZDTFFpNmtqUVhyTkNWR3lSaHd3Nkx3SUtrVTJJNkdUVytrSGxoN3J3cnhFeFpuR09ZCmxTRDVEcytKSlBuanQ4eFo3aEo3akdpZkZ6QThWVnNETmpJZEFnTUJBQUdqUlRCRE1BNEdBMVVkRHdFQi93UUUKQXdJQmhqQVNCZ05WSFJNQkFmOEVDREFHQVFIL0FnRUFNQjBHQTFVZERnUVdCQlNMRTBxVVFRUDg2TEFTRjdJWgpDZUVBZ1ZDa0V6QU5CZ2txaGtpRzl3MEJBUXNGQUFPQ0FRRUFEZTI0UDNsUVZsMGNiZkhaQUpMRFhaZ1JXTzQ4CjUvNS9tYXh5ckh1V1M3Z0dXVStpdDVCUzBIVm5ENkJIQ0MxK0RxV2thQlRSTUdHMTkyV2diUXNvbis4b1lEZVkKM3ZrVUdtKzY5T0F4TDhPTGpvV2lBekIzdUNjTi9vZVRBQjlLaW05Yk9xRlFpVEk0NDlISVAvSS9SNlpSYjFkRgpLenR0UUhrVFd0SjVlZlF0TzJIdWl6TERET3BIK09wQzJ3bk4rWkIxblkzYXNmSis3SnNNZW9PUVdKdWg4ZGlpCmNlSkdFNkZCYTRRZlQ5ZWdPQ2ZqRG93UUdRZTNzc1hwZW5ycFZXakVHRzNhL3p3OFU0dWhucFBDS3l4aUlHQjUKeW1LY2ltSXZTaTJYcXNVdUp2NlRmbzNHUnR0YmdlSjA4aXlLS2M1S0VpNi94RHpvMktTMnNmV3JpUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K\n    server: https://d75f3dd5-3f3c-45e9-8ac5-9b70e3d9ed2c.k8s.ondigitalocean.com\n  name: do-ams3-k8s-cluster\ncontexts:\n- context:\n    cluster: do-ams3-k8s-cluster\n    user: do-ams3-k8s-cluster-admin\n  name: do-ams3-k8s-cluster\ncurrent-context: do-ams3-k8s-cluster\nusers:\n- name: do-ams3-k8s-cluster-admin\n  user:\n    token: f770fbcd2143490e090064cd9b2006649f3f30de74434ca91527e25869db802b\n",
                "token": "f770fbcd2143490e090064cd9b2006649f3f30de74434ca91527e25869db802b"
              }
            ],
            "name": "k8s-cluster",
            "node_pool": [
              {
                "actual_node_count": 3,
                "auto_scale": false,
                "id": "f428d5d0-ad87-4df0-b7a7-c4c1b2541037",
                "labels": {},
                "max_nodes": 0,
                "min_nodes": 0,
                "name": "worker-pool",
                "node_count": 3,
                "nodes": [
                  {
                    "created_at": "2021-10-18 14:43:30 +0000 UTC",
                    "droplet_id": "269797324",
                    "id": "28ddc7fe-8475-43b9-8623-2d8b8358b6db",
                    "name": "worker-pool-uc41c",
                    "status": "running",
                    "updated_at": "2021-10-18 14:47:50 +0000 UTC"
                  },
                  {
                    "created_at": "2021-10-18 14:43:30 +0000 UTC",
                    "droplet_id": "269797325",
                    "id": "cb8486ec-7445-4d5b-8260-96a53de65f4b",
                    "name": "worker-pool-uc417",
                    "status": "running",
                    "updated_at": "2021-10-18 14:47:50 +0000 UTC"
                  },
                  {
                    "created_at": "2021-10-18 14:43:30 +0000 UTC",
                    "droplet_id": "269797323",
                    "id": "cbf229da-13a4-4352-a640-04e1363e12c8",
                    "name": "worker-pool-uc41m",
                    "status": "running",
                    "updated_at": "2021-10-18 14:47:50 +0000 UTC"
                  }
                ],
                "size": "s-2vcpu-2gb",
                "tags": [
                  "k8s-cluster"
                ]
              }
            ],
            "region": "ams3",
            "service_subnet": "10.245.0.0/16",
            "status": "running",
            "surge_upgrade": true,
            "tags": [],
            "updated_at": "2021-10-18 14:51:11 +0000 UTC",
            "version": "1.20.9-do.0",
            "vpc_uuid": "619a4572-3caa-460d-bff5-fd4ed1bfb89e"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjMifQ=="
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_loadbalancer",
      "name": "loadbalancer",
      "provider": "provider[\"registry.terraform.io/digitalocean/digitalocean\"]",
      "instances": [
        {
          "schema_version": 1,
          "attributes": {
            "algorithm": "round_robin",
            "droplet_ids": [
              269797323,
              269797324,
              269797325
            ],
            "droplet_tag": "k8s-cluster",
            "enable_backend_keepalive": false,
            "enable_proxy_protocol": false,
            "forwarding_rule": [
              {
                "certificate_id": "k8s-cluster-le-cert",
                "certificate_name": "k8s-cluster-le-cert",
                "entry_port": 443,
                "entry_protocol": "https",
                "target_port": 80,
                "target_protocol": "http",
                "tls_passthrough": false
              }
            ],
            "healthcheck": [
              {
                "check_interval_seconds": 10,
                "healthy_threshold": 5,
                "path": "",
                "port": 22,
                "protocol": "tcp",
                "response_timeout_seconds": 5,
                "unhealthy_threshold": 3
              }
            ],
            "id": "a068831e-354e-4b3a-81c4-e552a9572eb9",
            "ip": "143.198.250.8",
            "name": "loadbalancer",
            "redirect_http_to_https": false,
            "region": "ams3",
            "size": "lb-small",
            "status": "active",
            "sticky_sessions": [
              {
                "cookie_name": "",
                "cookie_ttl_seconds": 0,
                "type": "none"
              }
            ],
            "urn": "do:loadbalancer:a068831e-354e-4b3a-81c4-e552a9572eb9",
            "vpc_uuid": "619a4572-3caa-460d-bff5-fd4ed1bfb89e"
          },
          "sensitive_attributes": [],
          "private": "eyJzY2hlbWFfdmVyc2lvbiI6IjEifQ==",
          "dependencies": [
            "digitalocean_certificate.cert"
          ]
        }
      ]
    },
    {
      "mode": "managed",
      "type": "digitalocean_record",
      "name": "base-public",
      "provider": "provider[\"registry.terraform.io/digitalocean/digitalocean\"]",
      "instances": [
        {
          "schema_version": 0,
          "attributes": {
            "domain": "romanow-alex.ru",
            "flags": 0,
            "fqdn": "k8s-cluster.romanow-alex.ru",
            "id": "271827601",
            "name": "k8s-cluster",
            "port": 0,
            "priority": 0,
            "tag": "",
            "ttl": 300,
            "type": "A",
            "value": "143.198.250.8",
            "weight": 0
          },
          "sensitive_attributes": [],
          "private": "bnVsbA==",
          "dependencies": [
            "digitalocean_certificate.cert",
            "digitalocean_loadbalancer.loadbalancer"
          ]
        }
      ]
    }
  ]
}
